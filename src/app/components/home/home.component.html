<section class="p-4 flex w-full justify-center flex-col bg-slate-100">

  <div class="flex-col flex">
    <label class="text-base font-bold">Search</label>
    <p-autoComplete
      [(ngModel)]="legislationVal" [suggestions]="filteredLegislationData"
      (completeMethod)="filterLegislation($event)" field="Title"
      (onSelect)="setPaginateData()"
      (onClear)="reset()"
      [dropdown]="true"
      placeholder="Search for Legislation Title">
    </p-autoComplete>
  </div>

  <div *ngIf="filteredLegislationData?.length" class="mt-4">

    <div class="mb-3" *ngFor="let item of paginatedLegislationData">
      <p-card>
        <ng-template pTemplate="header">
          <div class="pl-2">
            <h1 class="pt-2 text-lg font-bold text-cyan-700">{{item.Title}}</h1>
            <p class="text-sm text-gray-700"><i>{{item['Summary']}}</i></p>
          </div>
        </ng-template>

        <div class="flex flex-wrap p-2">
          <div class="lg:basis-1/4 md:basis-1/3 sm:basis-full mr-2 md:mr-0 lg:mr-0" *ngFor="let key of allKeys">
            <span class="mr-1 text-sm"><b>{{key}}:</b> </span>
            <span class="text-sm">{{item[key]}}</span>
          </div>
        </div>
      </p-card>
    </div>

    <p-paginator [rows]="pageSize" [totalRecords]="filteredLegislationData.length"
                 (onPageChange)="paginate($event)">
    </p-paginator>

  </div>
</section>
